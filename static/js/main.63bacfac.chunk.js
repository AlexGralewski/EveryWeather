(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/starting-bg-winter.f4e0dc03.jpg"},function(e,t,a){e.exports=a.p+"static/media/starting-bg-spring.139cfbfd.jpg"},function(e,t,a){e.exports=a.p+"static/media/starting-bg-summer.551cff50.jpg"},function(e,t,a){e.exports=a.p+"static/media/starting-bg-fall.ae6d4977.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-day-bg.e6e20999.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-night-bg.41a70beb.jpg"},function(e,t,a){e.exports=a.p+"static/media/clouds-day-bg.c7da77ed.jpg"},function(e,t,a){e.exports=a.p+"static/media/clouds-night-bg.5082da6b.jpg"},function(e,t,a){e.exports=a.p+"static/media/clouds-bg.f3e04661.jpg"},function(e,t,a){e.exports=a.p+"static/media/rain-day-bg.6d903157.jpg"},function(e,t,a){e.exports=a.p+"static/media/rain-night-bg.e4271727.jpg"},function(e,t,a){e.exports=a.p+"static/media/rain-bg.0e4c237b.jpg"},function(e,t,a){e.exports=a.p+"static/media/smog-bg.b69e0130.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-bg.8b7e32f5.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm-bg.7a3cd651.png"},,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(3),c=a.n(i),o=(a(29),a(4)),l=a(5),r=a(6),m=a(1),u=a(23),d=a(22);var h=function(e){var t=new Date(1e3*e),a=t.getHours(),n=t.getMinutes();return n<10&&(n="0"+n),a+":"+n};var y=function(e){return"01d"===e?s.a.createElement("i",{className:"fas fa-sun fa-5x"}):"01n"===e?s.a.createElement("i",{className:"fas fa-moon fa-5x"}):"02d"===e?s.a.createElement("i",{className:"fas fa-cloud-sun fa-5x"}):"02n"===e?s.a.createElement("i",{className:"fas fa-cloud-moon fa-5x"}):"03d"===e||"03n"===e||"04d"===e||"04n"===e?s.a.createElement("i",{className:"fas fa-cloud fa-5x"}):"09d"===e||"09n"===e?s.a.createElement("i",{className:"fas fa-cloud-showers-heavy fa-5x"}):"10d"===e?s.a.createElement("i",{className:"fas fa-cloud-rain fa-5x"}):"10n"===e?s.a.createElement("i",{className:"fas fa-cloud-moon-rain fa-5x"}):"11d"===e||"11n"===e?s.a.createElement("i",{className:"fas fa-bolt fa-5x"}):"13d"===e||"13n"===e?s.a.createElement("i",{className:"fas fa-snowflake fa-5x"}):"50d"===e||"50n"===e?s.a.createElement("i",{className:"fas fa-smog fa-5x"}):"No icon"};var p=function(e){return e>=337.5||e<22.5?"N":e<67.5?"NE":e<112.5?"E":e<157.5?"SE":e<202.5?"S":e<247.5?"SW":e<292.5?"W":e<337.5?"NW":void 0};var v=function(e){var t=e.city,a=e.country,n=e.lat,i=e.long,c=e.currentWeather,o=e.currentDisplay;if(void 0!==c){var l,r=y(c.iconId);return""!==t&&(l=s.a.createElement("div",{className:"place-city"},s.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",t,", ",a)),s.a.createElement("div",{className:"cw-display",style:{display:o}},s.a.createElement("div",{className:"cw-title"},"Current weather:"),s.a.createElement("div",{className:"cw-main"},s.a.createElement("div",{className:"cw-representation"},s.a.createElement("div",{className:"cw-icon"},r),s.a.createElement("div",{className:"cw-description"},c.description)),s.a.createElement("div",{className:"cw-temp"},s.a.createElement("div",{className:"cw-temp-actual"},c.temp,"\xb0C"),s.a.createElement("div",{className:"cw-temp-feels-like"},"Feels like: ",s.a.createElement("span",{className:"feels-like-value"},c.feels_like,"\xb0C")))),s.a.createElement("div",{className:"cw-details"},s.a.createElement("div",{className:"cw-humidity cw-detail-box"},s.a.createElement("div",{className:"cw-detail-box-title"},"Humidity"),s.a.createElement("div",{className:"cw-detail-box-value"},c.humidity,s.a.createElement("span",{className:"unit"},"%"))),s.a.createElement("div",{className:"cw-clouds cw-detail-box"},s.a.createElement("div",{className:"cw-detail-box-title"},"Clouds"),s.a.createElement("div",{className:"cw-detail-box-value"},c.clouds,s.a.createElement("span",{className:"unit"},"%"))),s.a.createElement("div",{className:"cw-uvi cw-detail-box"},s.a.createElement("div",{className:"cw-detail-box-title"},"UVI"),s.a.createElement("div",{className:"cw-detail-box-value"},c.uvi)),s.a.createElement("div",{className:"cw-visibility cw-detail-box"},s.a.createElement("div",{className:"cw-detail-box-title"},"Visibility"),s.a.createElement("div",{className:"cw-detail-box-value"},c.visibility,s.a.createElement("span",{className:"unit"},"km"))),s.a.createElement("div",{className:"cw-wind cw-detail-box"},s.a.createElement("div",{className:"cw-detail-box-title"},"Wind"),s.a.createElement("div",{className:"cw-detail-box-value wind-value"},s.a.createElement("div",{className:"wind-speed"},c.wind[1],s.a.createElement("span",{className:"unit"},"m/s")),s.a.createElement("div",{className:"wind-deg"},c.wind[0],"\xb0(",p(c.wind[0]),")",s.a.createElement("span",{className:"unit"})))),s.a.createElement("div",{className:"cw-pressure cw-detail-box"},s.a.createElement("div",{className:"cw-detail-box-title"},"Pressure"),s.a.createElement("div",{className:"cw-detail-box-value"},c.pressure,s.a.createElement("span",{className:"unit"},"hPa"))),s.a.createElement("div",{className:"cw-sunrise cw-detail-box"},s.a.createElement("div",{className:"cw-detail-box-title"},"Sunrise"),s.a.createElement("div",{className:"cw-detail-box-value"},c.sunrise)),s.a.createElement("div",{className:"cw-sunset cw-detail-box"},s.a.createElement("div",{className:"cw-detail-box-title"},"Sunset"),s.a.createElement("div",{className:"cw-detail-box-value"},c.sunset))),s.a.createElement("div",{className:"place"},s.a.createElement("div",{className:"place-lat-long"},"Latitude: ",n,", Longitude: ",i),l))}return s.a.createElement("div",{className:"cw-display",style:{display:o}})};var f=function(e){return{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}[e]};var g=function(e){var t,a,n=e.day,i=e.temp,c=e.weather,o=e.iconId,l=e.humidity,r=e.today,m=y(o);return t=0===n?"Today":f((r+n)%7),a=0===l?s.a.createElement("i",{className:"fas fa-tint-slash"}):s.a.createElement("i",{className:"fas fa-tint"}),s.a.createElement("div",{className:"fw-display-item"},s.a.createElement("div",{className:"fw-day"},t),s.a.createElement("div",{className:"fw-representation"},s.a.createElement("div",{className:"fw-icon"},m),s.a.createElement("div",{className:"fw-description"},c)),s.a.createElement("div",{className:"fw-details"},s.a.createElement("div",{className:"fw-temp"},s.a.createElement("div",{className:"fw-temp-day"},s.a.createElement("i",{className:"far fa-sun"})," ",Math.round(i.day-273.15),"\xb0C"),s.a.createElement("div",{className:"fw-temp-night"},s.a.createElement("i",{className:"far fa-moon"})," ",Math.round(i.night-273.15),"\xb0C")),s.a.createElement("div",{className:"fw-humidity"},a," ",l,"%")))};var E=function(e){var t,a=e.city,n=e.country,i=e.lat,c=e.long,o=e.forecastDisplay,l=e.forecastWeather,r=(new Date).getDay();if(""!==a&&(t=s.a.createElement("div",{className:"place-city"},s.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",a,", ",n)),void 0!==l){var m=l.map((function(e){return s.a.createElement(g,{key:e.dayIndex,day:e.dayIndex,temp:e.temp,weather:e.weather,iconId:e.iconId,humidity:e.humidity,today:r})}));return s.a.createElement("div",{className:"fw-display",style:{display:o}},s.a.createElement("div",{className:"fw-display-title"},"Seven Day Forecast"),s.a.createElement("div",{className:"fw-results"},m),s.a.createElement("div",{className:"place"},s.a.createElement("div",{className:"place-lat-long"},"Latitude: ",i,", Longitude: ",c),t))}return s.a.createElement("div",{className:"fw-weather-display",style:{display:o}})},N=a(7),b=a.n(N),C=a(8),w=a.n(C),D=a(9),x=a.n(D),S=a(10),k=a.n(S);var W=function(){var e=(new Date).getMonth();return e<2||11===e?b.a:e<5?w.a:e<8?x.a:k.a},F=a(11),L=a.n(F),j=a(12),I=a.n(j),M=a(13),P=a.n(M),A=a(14),K=a.n(A),O=a(15),B=a.n(O),T=a(16),q=a.n(T),G=a(17),_=a.n(G),R=a(18),V=a.n(R),J=a(19),U=a.n(J),H=a(20),z=a.n(H),Y=a(21),Q=a.n(Y);var X=function(e){return"01d"===e?L.a:"01n"===e?I.a:"02d"===e?P.a:"02n"===e?K.a:"03d"===e||"03n"===e||"04d"===e||"04n"===e?B.a:"09d"===e||"09n"===e?V.a:"10d"===e?q.a:"10n"===e?_.a:"11d"===e||"11n"===e?Q.a:"13d"===e||"13n"===e?z.a:"50d"===e||"50n"===e?U.a:"No icon"},Z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={lat:"0",long:"0",city:"",state:"",country:"",part:"minutely,hourly",weatherApiKey:"692d3bd12adf77c08728b7324d9f2b14",weatherData:void 0,currentWeather:void 0,forecastWeather:void 0,locationApiKey:"44f5f3ce977746e7ab89ddeae84b48d3",locationData:void 0,cityList:s.a.createElement("div",{className:"city-list-items"}),chosenCityIndex:"",formsDisplay:"flex",currentWeatherDisplay:"none",forecastDisplay:"none",returnButtonDisplay:"none",cityListDisplay:"none",backgroundImage:W()},e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.handleCoordsCurrentWeatherSubmit=e.handleCoordsCurrentWeatherSubmit.bind(Object(m.a)(e)),e.handleCityCurrentWeatherSubmit=e.handleCityCurrentWeatherSubmit.bind(Object(m.a)(e)),e.handlePositionCurrentWeatherSubmit=e.handlePositionCurrentWeatherSubmit.bind(Object(m.a)(e)),e.handleReturnButton=e.handleReturnButton.bind(Object(m.a)(e)),e.handleCoordsForecastSubmit=e.handleCoordsForecastSubmit.bind(Object(m.a)(e)),e.handleCityForecastSubmit=e.handleCityForecastSubmit.bind(Object(m.a)(e)),e.handlePositionForecastSubmit=e.handlePositionForecastSubmit.bind(Object(m.a)(e)),e}return Object(r.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(o.a)({},a,n))}},{key:"handleCoordsCurrentWeatherSubmit",value:function(e){var t=this;e.preventDefault();var a="https://api.openweathermap.org/data/2.5/onecall?lat="+this.state.lat%180+"&lon="+this.state.long%180+"&exclude="+this.state.part+"&appid="+this.state.weatherApiKey;fetch(a).then((function(e){return e.json()})).then((function(e){t.setState({weatherData:e},t.handleCoordsCurrentWeatherSubmit2)})).catch((function(e){console.log(e)}))}},{key:"handleCoordsCurrentWeatherSubmit2",value:function(){var e=this,t="https://api.opencagedata.com/geocode/v1/json?q="+this.state.lat%180+"+"+this.state.long%180+"&key="+this.state.locationApiKey;console.log(t),fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({locationData:t},e.handleCoordsCurrentWeatherSubmit3)})).catch((function(e){console.log(e)}))}},{key:"handleCoordsCurrentWeatherSubmit3",value:function(){var e,t;void 0!==this.state.locationData.results[0].components.city?(e=this.state.locationData.results[0].components.city,t=this.state.locationData.results[0].components.country):(e="",t=""),this.setState({city:e,country:t},this.assignCurrentWeatherParameters)}},{key:"handleCityCurrentWeatherSubmit",value:function(e){var t,a=this;e.preventDefault(),t=""===this.state.country?"https://api.opencagedata.com/geocode/v1/json?q="+this.state.city+"&key="+this.state.locationApiKey:"https://api.opencagedata.com/geocode/v1/json?q="+this.state.city+"%2C"+this.state.country+"&key="+this.state.locationApiKey,fetch(t).then((function(e){return e.json()})).then((function(e){a.setState({locationData:e},a.handleCityCurrentWeatherSubmit2)}))}},{key:"handleCityCurrentWeatherSubmit2",value:function(){var e=this,t=[];console.log(this.locationData),this.state.locationData.results.forEach((function(a,n){"place"===a.components._category&&(a.confidence<7?t.push(a):void 0!==a.components.city?a.components.city.toLowerCase()===e.state.city.toLowerCase()&&t.push(a):void 0!==a.components.town?a.components.town.toLowerCase()===e.state.city.toLowerCase()&&t.push(a):void 0!==a.components.village?a.components.village.toLowerCase()===e.state.city.toLowerCase()&&t.push(a):"county"!==a.components._type&&a.components.county.toLowerCase()===e.state.city.toLowerCase()&&t.push(a))})),1===t.length?this.setState({lat:this.state.locationData.results[0].geometry.lat,long:this.state.locationData.results[0].geometry.lng,country:this.state.locationData.results[0].components.country},this.fetchWeatherDataForCurrentWeather):t.length>1?this.setState({locationData:t,cityListDisplay:"flex",formsDisplay:"none",returnButtonDisplay:"flex"},this.cityListDisplayForCurrentWeather):(alert("No results"),this.setState({city:"",country:""}))}},{key:"cityListDisplayForCurrentWeather",value:function(){var e=this,t=this.state.locationData.map((function(t,a){return void 0!==t.components.city?s.a.createElement("div",{key:a,className:"city-list-item"},s.a.createElement("div",{className:"city-name"},t.components.city),s.a.createElement("div",{className:"city-details"},"City in ",t.components.state,", ",t.components.country),s.a.createElement("div",{className:"city-coords"},s.a.createElement("div",{className:"city-latitude"},"Latitude: ",Math.round(1e3*t.geometry.lat)/1e3),s.a.createElement("div",{className:"city-longitude"},"Longitude: ",Math.round(1e3*t.geometry.lng)/1e3)),s.a.createElement("button",{className:"city-button",onClick:function(){e.setState({chosenCityIndex:a},e.handleChosenCityForCurrentWeather)}},"This one")):void 0!==t.components.town?s.a.createElement("div",{key:a,className:"city-list-item"},s.a.createElement("div",{className:"city-name"},t.components.town),s.a.createElement("div",{className:"city-details"},"Town in ",t.components.state,", ",t.components.country),s.a.createElement("div",{className:"city-coords"},s.a.createElement("div",{className:"city-latitude"},"Latitude: ",Math.round(1e3*t.geometry.lat)/1e3),s.a.createElement("div",{className:"city-longitude"},"Longitude: ",Math.round(1e3*t.geometry.lng)/1e3)),s.a.createElement("button",{className:"city-button",onClick:function(){e.setState({chosenCityIndex:a},e.handleChosenCityForCurrentWeather)}},"This one")):void 0!==t.components.village?s.a.createElement("div",{key:a,className:"city-list-item"},s.a.createElement("div",{className:"city-name"},t.components.village),s.a.createElement("div",{className:"city-details"},"Village in ",t.components.state,", ",t.components.country),s.a.createElement("div",{className:"city-coords"},s.a.createElement("div",{className:"city-latitude"},"Latitude: ",Math.round(1e3*t.geometry.lat)/1e3),s.a.createElement("div",{className:"city-longitude"},"Longitude: ",Math.round(1e3*t.geometry.lng)/1e3)),s.a.createElement("button",{className:"city-button",onClick:function(){e.setState({chosenCityIndex:a},e.handleChosenCityForCurrentWeather)}},"This one")):void 0!==t.components.county?s.a.createElement("div",{key:a,className:"city-list-item"},s.a.createElement("div",{className:"city-name"},t.components.county),s.a.createElement("div",{className:"city-details"},"County in ",t.components.state,", ",t.components.country),s.a.createElement("div",{className:"city-coords"},s.a.createElement("div",{className:"city-latitude"},"Latitude: ",Math.round(1e3*t.geometry.lat)/1e3),s.a.createElement("div",{className:"city-longitude"},"Longitude: ",Math.round(1e3*t.geometry.lng)/1e3)),s.a.createElement("button",{className:"city-button",onClick:function(){e.setState({chosenCityIndex:a},e.handleChosenCityForCurrentWeather)}},"This one")):void 0}));this.setState({cityList:s.a.createElement("div",{className:"city-list-items"},t)})}},{key:"handleChosenCityForCurrentWeather",value:function(){this.setState({lat:this.state.locationData[this.state.chosenCityIndex].geometry.lat,long:this.state.locationData[this.state.chosenCityIndex].geometry.lng,country:this.state.locationData[this.state.chosenCityIndex].components.country},this.fetchWeatherDataForCurrentWeather)}},{key:"fetchWeatherDataForCurrentWeather",value:function(){var e=this,t="https://api.openweathermap.org/data/2.5/onecall?lat="+this.state.lat%180+"&lon="+this.state.long%180+"&exclude="+this.state.part+"&appid="+this.state.weatherApiKey;console.log(t),fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({weatherData:t},e.assignCurrentWeatherParameters)})).catch((function(e){console.log(e)}))}},{key:"handlePositionCurrentWeatherSubmit",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({lat:Math.round(1e3*t.coords.latitude)/1e3,long:Math.round(1e3*t.coords.longitude)/1e3},e.handlePositionCurrentWeatherSubmit2)}))}},{key:"handlePositionCurrentWeatherSubmit2",value:function(){var e=this,t="https://api.openweathermap.org/data/2.5/onecall?lat="+this.state.lat%90+"&lon="+this.state.long%180+"&exclude="+this.state.part+"&appid="+this.state.weatherApiKey;fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({weatherData:t},e.assignCurrentWeatherParameters)})).catch((function(e){console.log(e)})),console.log(t)}},{key:"assignCurrentWeatherParameters",value:function(){var e=this.state.weatherData,t={};t.temp=Math.round(10*(e.current.temp-273.15))/10,t.feels_like=Math.round(10*(e.current.feels_like-273.15))/10,t.sunrise=h(e.current.sunrise),t.sunset=h(e.current.sunset),t.description=e.current.weather[0].description,t.iconId=e.current.weather[0].icon,t.pressure=e.current.pressure,t.humidity=e.current.humidity,t.wind=[Math.round(e.current.wind_deg),e.current.wind_speed],t.clouds=e.current.clouds,t.uvi=e.current.uvi,t.visibility=e.current.visibility/1e3,this.setState({currentWeather:t,formsDisplay:"none",currentWeatherDisplay:"flex",returnButtonDisplay:"flex",cityListDisplay:"none",backgroundImage:X(e.current.weather[0].icon)})}},{key:"handleCoordsForecastSubmit",value:function(e){var t=this;e.preventDefault();var a="https://api.openweathermap.org/data/2.5/onecall?lat="+this.state.lat%180+"&lon="+this.state.long%180+"&exclude="+this.state.part+"&appid="+this.state.weatherApiKey;console.log(a),fetch(a).then((function(e){return e.json()})).then((function(e){t.setState({weatherData:e},t.handleCoordsForecastSubmit2)})).catch((function(e){console.log(e)}))}},{key:"handleCoordsForecastSubmit2",value:function(){var e=this,t="https://api.opencagedata.com/geocode/v1/json?q="+this.state.lat%180+"+"+this.state.long%180+"&key="+this.state.locationApiKey;fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({locationData:t},e.handleCoordsForecastSubmit3)})).catch((function(e){console.log(e)}))}},{key:"handleCoordsForecastSubmit3",value:function(){var e,t;void 0!==this.state.locationData.results[0].components.city?(e=this.state.locationData.results[0].components.city,t=this.state.locationData.results[0].components.country):(e="",t=""),this.setState({city:e,country:t},this.assignForecastParameters)}},{key:"handleCityForecastSubmit",value:function(e){var t,a=this;e.preventDefault(),t=""===this.state.country?"https://api.opencagedata.com/geocode/v1/json?q="+this.state.city+"&key="+this.state.locationApiKey:"https://api.opencagedata.com/geocode/v1/json?q="+this.state.city+"%2C"+this.state.country+"&key="+this.state.locationApiKey,fetch(t).then((function(e){return e.json()})).then((function(e){a.setState({locationData:e},a.handleCityForecastSubmit2)}))}},{key:"handleCityForecastSubmit2",value:function(){var e=this,t=[];this.state.locationData.results.forEach((function(a,n){"place"===a.components._category&&(a.confidence<7?t.push(a):void 0!==a.components.city?a.components.city.toLowerCase()===e.state.city.toLowerCase()&&t.push(a):void 0!==a.components.town?a.components.town.toLowerCase()===e.state.city.toLowerCase()&&t.push(a):void 0!==a.components.village?a.components.village.toLowerCase()===e.state.city.toLowerCase()&&t.push(a):"county"!==a.components._type&&a.components.county.toLowerCase()===e.state.city.toLowerCase()&&t.push(a))})),1===t.length?this.setState({lat:this.state.locationData.results[0].geometry.lat,long:this.state.locationData.results[0].geometry.lng,country:this.state.locationData.results[0].components.country},this.fetchWeatherDataForForecast):t.length>1?this.setState({locationData:t,cityListDisplay:"flex",formsDisplay:"none",returnButtonDisplay:"flex"},this.cityListDisplayForForecast):(alert("No results"),this.setState({city:"",country:""}))}},{key:"cityListDisplayForForecast",value:function(){var e=this,t=this.state.locationData.map((function(t,a){return void 0!==t.components.city?s.a.createElement("div",{key:a,className:"city-list-item"},s.a.createElement("div",{className:"city-name"},t.components.city),s.a.createElement("div",{className:"city-details"},"City in ",t.components.state,", ",t.components.country),s.a.createElement("div",{className:"city-coords"},s.a.createElement("div",{className:"city-latitude"},"Latitude: ",Math.round(1e3*t.geometry.lat)/1e3),s.a.createElement("div",{className:"city-longitude"},"Longitude: ",Math.round(1e3*t.geometry.lng)/1e3)),s.a.createElement("button",{className:"city-button",onClick:function(){e.setState({chosenCityIndex:a},e.handleChosenCityForForecast)}},"This one")):void 0!==t.components.town?s.a.createElement("div",{key:a,className:"city-list-item"},s.a.createElement("div",{className:"city-name"},t.components.town),s.a.createElement("div",{className:"city-details"},"Town in ",t.components.state,", ",t.components.country),s.a.createElement("div",{className:"city-coords"},s.a.createElement("div",{className:"city-latitude"},"Latitude: ",Math.round(1e3*t.geometry.lat)/1e3),s.a.createElement("div",{className:"city-longitude"},"Longitude: ",Math.round(1e3*t.geometry.lng)/1e3)),s.a.createElement("button",{className:"city-button",onClick:function(){e.setState({chosenCityIndex:a},e.handleChosenCityForForecast)}},"This one")):void 0!==t.components.village?s.a.createElement("div",{key:a,className:"city-list-item"},s.a.createElement("div",{className:"city-name"},t.components.village),s.a.createElement("div",{className:"city-details"},"Village in ",t.components.state,", ",t.components.country),s.a.createElement("div",{className:"city-coords"},s.a.createElement("div",{className:"city-latitude"},"Latitude: ",Math.round(1e3*t.geometry.lat)/1e3),s.a.createElement("div",{className:"city-longitude"},"Longitude: ",Math.round(1e3*t.geometry.lng)/1e3)),s.a.createElement("button",{className:"city-button",onClick:function(){e.setState({chosenCityIndex:a},e.handleChosenCityForForecast)}},"This one")):void 0!==t.components.county?s.a.createElement("div",{key:a,className:"city-list-item"},s.a.createElement("div",{className:"city-name"},t.components.county),s.a.createElement("div",{className:"city-details"},"County in ",t.components.state,", ",t.components.country),s.a.createElement("div",{className:"city-coords"},s.a.createElement("div",{className:"city-latitude"},"Latitude: ",Math.round(1e3*t.geometry.lat)/1e3),s.a.createElement("div",{className:"city-longitude"},"Longitude: ",Math.round(1e3*t.geometry.lng)/1e3)),s.a.createElement("button",{className:"city-button",onClick:function(){e.setState({chosenCityIndex:a},e.handleChosenCityForForecast)}},"This one")):void 0}));this.setState({cityList:s.a.createElement("div",{className:"city-list-items"},t)})}},{key:"handleChosenCityForForecast",value:function(){this.setState({lat:this.state.locationData[this.state.chosenCityIndex].geometry.lat,long:this.state.locationData[this.state.chosenCityIndex].geometry.lng,country:this.state.locationData[this.state.chosenCityIndex].components.country},this.fetchWeatherDataForForecast)}},{key:"fetchWeatherDataForForecast",value:function(){var e=this,t="https://api.openweathermap.org/data/2.5/onecall?lat="+this.state.lat%180+"&lon="+this.state.long%180+"&exclude="+this.state.part+"&appid="+this.state.weatherApiKey;console.log(t),fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({weatherData:t},e.assignForecastParameters)})).catch((function(e){console.log(e)}))}},{key:"handlePositionForecastSubmit",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({lat:Math.round(1e3*t.coords.latitude)/1e3,long:Math.round(1e3*t.coords.longitude)/1e3},e.handlePositionForecastSubmit2)}))}},{key:"handlePositionForecastSubmit2",value:function(){var e=this,t="https://api.openweathermap.org/data/2.5/onecall?lat="+this.state.lat%90+"&lon="+this.state.long%180+"&exclude="+this.state.part+"&appid="+this.state.weatherApiKey;fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({weatherData:t},e.assignForecastParameters)})).catch((function(e){console.log(e)})),console.log(t)}},{key:"assignForecastParameters",value:function(){var e=this.state.weatherData,t=[];e.daily.forEach((function(e,a){t.push({dayIndex:a,temp:e.temp,weather:e.weather[0].description,iconId:e.weather[0].icon,humidity:e.humidity})})),this.setState({forecastWeather:t,formsDisplay:"none",forecastDisplay:"flex",returnButtonDisplay:"flex",cityListDisplay:"none",backgroundImage:X(e.current.weather[0].icon)})}},{key:"handleReturnButton",value:function(e){this.setState({lat:0,long:0,city:"",country:"",formsDisplay:"flex",currentWeatherDisplay:"none",forecastDisplay:"none",returnButtonDisplay:"none",cityListDisplay:"none",backgroundImage:W()}),e.preventDefault()}},{key:"render",value:function(){var e=this.state,t=e.city,a=e.country,n=e.lat,i=e.long,c=e.currentWeatherDisplay,o=e.formsDisplay,l=e.returnButtonDisplay,r=e.currentWeather,m=e.forecastWeather,u=e.forecastDisplay,d=e.cityListDisplay,h=e.cityList,y=e.backgroundImage;return s.a.createElement("div",{className:"weather-app",style:{backgroundImage:"url(".concat(y,")")}},s.a.createElement("button",{onClick:this.handleReturnButton,style:{display:l},className:"return-button"},s.a.createElement("span",{className:"return-icon"},s.a.createElement("i",{className:"fas fa-arrow-left"})),s.a.createElement("span",{className:"return-text"},"Return")),s.a.createElement("div",{className:"forms",style:{display:o}},s.a.createElement("div",{className:"forms-title"},"EveryWeather"),s.a.createElement("div",{className:"forms-desc"},"Get weather data for any place!"),s.a.createElement("div",{className:"position-form"},s.a.createElement("div",{className:"submit-buttons"},s.a.createElement("button",{onClick:this.handlePositionCurrentWeatherSubmit,className:"current-weather-button"},"Get current weather for your position"),s.a.createElement("button",{onClick:this.handlePositionForecastSubmit,className:"forecast-weather-button"},"Get seven day forecast for your position"))),s.a.createElement("h1",{className:"or"},"OR"),s.a.createElement("div",{className:"city-form"},s.a.createElement("form",null,s.a.createElement("label",null,"Search by the name of a place:"),s.a.createElement("div",{className:"city-country-inputs"},s.a.createElement("div",{className:"city-input"},s.a.createElement("input",{type:"text",name:"city",value:t,onChange:this.handleChange,placeholder:"City",required:!0})),s.a.createElement("div",{className:"country-input"},s.a.createElement("input",{type:"text",list:"country",value:this.state.country,name:"country",onChange:this.handleChange,placeholder:"Country*"}),s.a.createElement("datalist",{id:"country"},s.a.createElement("option",{value:""},"Country*"),s.a.createElement("option",null,"Australia"),s.a.createElement("option",null,"Brazil"),s.a.createElement("option",null,"China"),s.a.createElement("option",null,"France"),s.a.createElement("option",null,"Germany"),s.a.createElement("option",null,"Japan"),s.a.createElement("option",null,"Poland"),s.a.createElement("option",null,"Russia"),s.a.createElement("option",null,"Spain"),s.a.createElement("option",null,"United Kingdom"),s.a.createElement("option",null,"United States")))),s.a.createElement("p",null,"*You may specify a country to help narrow the results, though it's not required."),s.a.createElement("div",{className:"submit-buttons"},s.a.createElement("button",{onClick:this.handleCityCurrentWeatherSubmit,className:"current-weather-button"},"Get current weather"),s.a.createElement("button",{onClick:this.handleCityForecastSubmit,className:"forecast-weather-button"},"Get seven day forecast")))),s.a.createElement("h1",{className:"or"},"OR"),s.a.createElement("div",{className:"lat-long-form"},s.a.createElement("form",null,s.a.createElement("label",null,"Enter latitude:"),s.a.createElement("input",{type:"number",step:"0.001",name:"lat",value:n,onChange:this.handleChange,required:!0}),s.a.createElement("label",null,"Enter longitude:"),s.a.createElement("input",{type:"number",step:"0.001",name:"long",value:i,onChange:this.handleChange,required:!0}),s.a.createElement("div",{className:"submit-buttons"},s.a.createElement("button",{onClick:this.handleCoordsCurrentWeatherSubmit,className:"current-weather-button"},"Get current weather"),s.a.createElement("button",{onClick:this.handleCoordsForecastSubmit,className:"forecast-weather-button"},"Get seven day forecast"))))),s.a.createElement(v,{city:t,country:a,lat:n,long:i,currentDisplay:c,currentWeather:r}),s.a.createElement(E,{city:t,country:a,lat:n,long:i,forecastDisplay:u,forecastWeather:m}),s.a.createElement("div",{className:"city-list",style:{display:d}},s.a.createElement("div",{className:"city-list-title"},"Which place did you have in mind?"),h))}}]),a}(s.a.Component);var $=function(){return s.a.createElement("footer",null,s.a.createElement("div",null,"Developed by Aleksander Gralewski, 2020"),s.a.createElement("div",{className:"social-icons"},s.a.createElement("a",{href:"https://github.com/AlexGralewski"},s.a.createElement("i",{className:"fab fa-github"})),s.a.createElement("a",{href:"https://www.linkedin.com/in/aleksander-gralewski-1a01a7185/"},s.a.createElement("i",{className:"fab fa-linkedin-in"}))))};var ee=function(){return s.a.createElement("div",null,s.a.createElement(Z,null),s.a.createElement($,null))};c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(ee,null)),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.63bacfac.chunk.js.map