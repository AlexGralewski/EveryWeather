{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aleksander.DESKTOP-LAALHEM\\\\Desktop\\\\React\\\\weather-app\\\\src\\\\components\\\\WeatherApp.js\";\nimport React from \"react\";\nimport timestampToTime from \"../data/timestampToTime\";\nimport CurrentWeatherDisplay from \"./CurrentWeatherDisplay\";\nimport cities from \"../data/cities\";\nconsole.log(timestampToTime(1603949182));\n\nclass WeatherApp extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      lat: \"52.24\",\n      //latitude\n      long: \"21.02\",\n      //longitude\n      city: \"\",\n      //city of choice\n      country: \"\",\n      part: \"minutely,hourly\",\n      //Excludes parts of weather data. Available values: \"current\", \"minutely\", \"hourly\", \"daily\", \"alerts\". Seperated by comma without spaces\n      weatherApiKey: \"692d3bd12adf77c08728b7324d9f2b14\",\n      //API key for OpenWeatherMapAPI\n      weatherData: undefined,\n      //data pulled from weather API\n      locationApiKey: \"44f5f3ce977746e7ab89ddeae84b48d3\",\n      //API key for openCageData\n      locationData: undefined //data pulled from location API\n\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleLatLongSubmit = this.handleLatLongSubmit.bind(this);\n    this.handleCitySubmit = this.handleCitySubmit.bind(this);\n    this.handleLocationSubmit = this.handleLocationSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n    console.log(this.state);\n  }\n\n  handleLatLongSubmit(event) {\n    event.preventDefault();\n    let apiURL = \"https://api.openweathermap.org/data/2.5/onecall?lat=\" + this.state.lat % 180 + \"&lon=\" + this.state.long % 180 + \"&exclude=\" + this.state.part + \"&appid=\" + this.state.weatherApiKey;\n    console.log(apiURL);\n    fetch(apiURL).then(response => response.json()).then(res => {\n      this.setState({\n        data: res\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(this.state.data);\n  }\n\n  handleCitySubmit(event) {\n    event.preventDefault();\n    let cityIndex;\n\n    for (cityIndex = 0; cityIndex < cities.length; cityIndex++) {\n      if (cities[cityIndex].city === \"warsaw\") {\n        this.setState({\n          lat: cities[cityIndex].lat,\n          long: cities[cityIndex].long\n        });\n      }\n    }\n\n    let apiURL = \"https://api.openweathermap.org/data/2.5/onecall?lat=\" + this.state.lat % 180 + \"&lon=\" + this.state.long % 180 + \"&exclude=\" + this.state.part + \"&appid=\" + this.state.apiKey;\n    console.log(apiURL);\n    fetch(apiURL).then(response => response.json()).then(res => {\n      this.setState({\n        data: res\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(\"handleCitySubmit\");\n  }\n\n  handleLocationSubmit(event) {\n    event.preventDefault();\n    console.log(\"handleLocationSubmit\");\n  }\n\n  render() {\n    const {\n      city,\n      lat,\n      long,\n      data\n    } = this.state;\n    let current = {};\n\n    if (data !== undefined) {\n      //set current temperature\n      current.temp = Math.floor(data.current.temp - 273.15); //set current sunrise and sunset\n\n      current.sunrise = timestampToTime(data.current.sunrise);\n      current.sunset = timestampToTime(data.current.sunset); //set current weather\n\n      current.description = data.current.weather[0].description;\n      current.iconId = data.current.weather[0].icon;\n    }\n\n    console.log(current);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"weather-app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"forms\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lat-long-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleLatLongSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Enter latitude:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 32\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"lat\",\n      value: lat,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, \"Enter longitude: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 34\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"long\",\n      value: long,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, \"Get current weather\"))), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, \"OR\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"city-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleCitySubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, \"Enter a city:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"city\",\n      value: city,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.country,\n      name: \"country\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, \"Country\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"poland\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, \"Poland\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"england\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, \"England\"))), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, \"Get current weather\"))), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }\n    }, \"OR\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"this-location-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleLocationSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, \"Get current weather from your location\"))), /*#__PURE__*/React.createElement(CurrentWeatherDisplay, {\n      city: city,\n      lat: lat,\n      long: long,\n      currentTemp: current.temp,\n      currentDescription: current.description,\n      currentIconId: current.iconId,\n      currentSunrise: current.sunrise,\n      currentSunset: current.sunset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default WeatherApp;","map":{"version":3,"sources":["C:/Users/Aleksander.DESKTOP-LAALHEM/Desktop/React/weather-app/src/components/WeatherApp.js"],"names":["React","timestampToTime","CurrentWeatherDisplay","cities","console","log","WeatherApp","Component","constructor","state","lat","long","city","country","part","weatherApiKey","weatherData","undefined","locationApiKey","locationData","handleChange","bind","handleLatLongSubmit","handleCitySubmit","handleLocationSubmit","event","name","value","target","setState","preventDefault","apiURL","fetch","then","response","json","res","data","catch","err","cityIndex","length","apiKey","render","current","temp","Math","floor","sunrise","sunset","description","weather","iconId","icon"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport timestampToTime from \"../data/timestampToTime\"\r\nimport CurrentWeatherDisplay from \"./CurrentWeatherDisplay\"\r\nimport cities from \"../data/cities\"\r\n\r\nconsole.log(timestampToTime(1603949182))\r\n\r\nclass WeatherApp extends React.Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      lat: \"52.24\", //latitude\r\n      long: \"21.02\", //longitude\r\n      city: \"\", //city of choice\r\n      country: \"\",\r\n      part: \"minutely,hourly\", //Excludes parts of weather data. Available values: \"current\", \"minutely\", \"hourly\", \"daily\", \"alerts\". Seperated by comma without spaces\r\n      weatherApiKey: \"692d3bd12adf77c08728b7324d9f2b14\", //API key for OpenWeatherMapAPI\r\n      weatherData: undefined, //data pulled from weather API\r\n      locationApiKey: \"44f5f3ce977746e7ab89ddeae84b48d3\", //API key for openCageData\r\n      locationData: undefined, //data pulled from location API\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleLatLongSubmit = this.handleLatLongSubmit.bind(this)\r\n    this.handleCitySubmit = this.handleCitySubmit.bind(this)\r\n    this.handleLocationSubmit = this.handleLocationSubmit.bind(this)\r\n  }\r\n\r\n\r\n  handleChange(event) {\r\n    const {name, value} = event.target\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n    console.log(this.state)\r\n  }\r\n\r\n  handleLatLongSubmit(event) {\r\n    event.preventDefault();\r\n    let apiURL = \"https://api.openweathermap.org/data/2.5/onecall?lat=\" + (this.state.lat % 180) + \"&lon=\" + (this.state.long % 180) + \"&exclude=\" + this.state.part + \"&appid=\" + this.state.weatherApiKey\r\n    console.log(apiURL)\r\n    fetch(apiURL)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        this.setState({data: res});\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    console.log(this.state.data)\r\n  }\r\n\r\n  handleCitySubmit(event) {\r\n    event.preventDefault();\r\n    let cityIndex\r\n    for (cityIndex = 0; cityIndex < cities.length; cityIndex++) {\r\n      if (cities[cityIndex].city === \"warsaw\") {\r\n        this.setState({\r\n          lat: cities[cityIndex].lat,\r\n          long: cities[cityIndex].long\r\n        })\r\n      }\r\n    }\r\n\r\n    let apiURL = \"https://api.openweathermap.org/data/2.5/onecall?lat=\" + (this.state.lat % 180) + \"&lon=\" + (this.state.long % 180) + \"&exclude=\" + this.state.part + \"&appid=\" + this.state.apiKey\r\n    console.log(apiURL)\r\n    fetch(apiURL)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        this.setState({data: res});\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    console.log(\"handleCitySubmit\")    \r\n  }\r\n\r\n  handleLocationSubmit(event) {\r\n    event.preventDefault();\r\n    \r\n    console.log(\"handleLocationSubmit\")\r\n  }\r\n\r\n  render() {\r\n    const {city, lat, long, data} = this.state\r\n    let current = {}\r\n    if (data !== undefined) {\r\n      //set current temperature\r\n      current.temp = Math.floor(data.current.temp - 273.15)\r\n      //set current sunrise and sunset\r\n      current.sunrise = timestampToTime(data.current.sunrise)\r\n      current.sunset = timestampToTime(data.current.sunset)\r\n      //set current weather\r\n      current.description = data.current.weather[0].description\r\n      current.iconId = data.current.weather[0].icon\r\n    } \r\n    console.log(current)\r\n    \r\n    return (\r\n      <div className=\"weather-app\">\r\n        <div className=\"forms\">\r\n          <div className=\"lat-long-form\">\r\n            <form onSubmit={this.handleLatLongSubmit}>\r\n              <label>\r\n                Enter latitude:<br />\r\n                <input \r\n                  type=\"text\"\r\n                  name=\"lat\"\r\n                  value={lat}\r\n                  onChange={this.handleChange}/> \r\n              </label>\r\n              <label>\r\n                Enter longitude: <br />\r\n                <input \r\n                  type=\"text\"\r\n                  name=\"long\"\r\n                  value={long}\r\n                  onChange={this.handleChange}/> \r\n              </label>\r\n              <button>Get current weather</button>\r\n            </form>\r\n          </div>\r\n          <h1>OR</h1>\r\n          <div className=\"city-form\">\r\n            <form onSubmit={this.handleCitySubmit}>\r\n            <label>\r\n              Enter a city:\r\n              <input \r\n                type=\"text\"\r\n                name=\"city\"\r\n                value = {city}\r\n                onChange={this.handleChange}/> \r\n              <select\r\n                value={this.state.country}\r\n                name=\"country\"\r\n                onChange = {this.handleChange}\r\n              >\r\n                <option value=\"\">Country</option>\r\n                <option value=\"poland\">Poland</option>\r\n                <option value=\"england\">England</option>\r\n              </select>\r\n            </label>\r\n            <button>Get current weather</button>\r\n          </form>\r\n          </div>\r\n          <h1>OR</h1>\r\n          <div className=\"this-location-form\">\r\n            <button onClick={this.handleLocationSubmit}>Get current weather from your location</button>          \r\n          </div>\r\n        </div>\r\n\r\n        <CurrentWeatherDisplay \r\n          city={city}\r\n          lat={lat}\r\n          long={long}\r\n          currentTemp = {current.temp}\r\n          currentDescription = {current.description}\r\n          currentIconId = {current.iconId}\r\n          currentSunrise = {current.sunrise}\r\n          currentSunset = {current.sunset}\r\n          />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WeatherApp"]},"metadata":{},"sourceType":"module"}